(this["webpackJsonpmaterial-ui-tut"]=this["webpackJsonpmaterial-ui-tut"]||[]).push([[0],{114:function(e,t,a){},141:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),s=a.n(c),o=(a(114),a(21)),l=a(15),i=a(102),d=a(203),u=a(9),j=a.n(u),b=a(14),p=a(7),h=a(24),O=function(e,t){return"SET_USER"===t.type?Object(h.a)(Object(h.a)({},e),{},{user:t.payload}):"TOGGLE_SWITCH"!==t.type?"SET_NOTES"===t.type?Object(h.a)(Object(h.a)({},e),{},{notes:t.payload}):e:!1===e.isDarkMode?Object(h.a)(Object(h.a)({},e),{},{isDarkMode:!0}):!0===e.isDarkMode?Object(h.a)(Object(h.a)({},e),{},{isDarkMode:!1}):void 0},f=a(12),m=a.n(f),x=a(1),g=Object(n.createContext)(),v=JSON.parse(localStorage.getItem("state")),y=v?{user:v.user,isDarkMode:v.isDarkMode}:{user:null,notes:[],isDarkMode:!1},k=function(e){var t=e.children,a=Object(n.useReducer)(O,y),r=Object(p.a)(a,2),c=r[0],s=r[1];console.log(c);var o=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("/notes/".concat(t));case 2:a=c.notes.filter((function(e){return e._id!==t})),s({type:"SET_NOTES",payload:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){document.cookie.includes("check=")?localStorage.setItem("state",JSON.stringify(c)):localStorage.removeItem("state")}),[c]),Object(x.jsx)(g.Provider,{value:Object(h.a)(Object(h.a)({},c),{},{handleDelete:o,dispatch:s}),children:t})},N=a(188),S=a(189),w=a(71),C=a(190),T=a(183),P=a(185),E=a(186),I=a(187),L=a(179),z=a(182),D=a(70),W=a(68),M=a(69),R=Object(L.a)({avatar:{backgroundColor:function(e){return"work"===e.category?z.a[700]:"money"===e.category?D.a[500]:"todos"===e.category?W.a[500]:M.a[500]}},title:{fontSize:"18px",fontWeight:"500"},titleDark:{color:"#ddd"},media:{height:140}}),F=function(e){var t=e.note,a=(e.handleDelete,Object(n.useContext)(g).isDarkMode),r=R(t);return console.log(t.image),Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)(T.a,{elevation:2,style:a?{background:"#333",color:"#fff"}:null,children:[Object(x.jsxs)(o.b,{to:"/notes/".concat(t._id),children:[Object(x.jsx)(P.a,{className:t.image?r.media:null,component:"img",src:t.image}),Object(x.jsxs)(E.a,{children:[Object(x.jsx)(w.a,{variant:"h6",color:"textSecondary",style:a?{color:"#ddd"}:null,children:t.title}),Object(x.jsx)(w.a,{variant:"body2",color:"textSecondary",component:"p",style:a?{color:"#ddd"}:null,children:t.details})]})]}),Object(x.jsx)(I.a,{})]})})};function _(){var e=Object(n.useContext)(g),t=e.isDarkMode,a=e.dispatch,r=Object(n.useState)([]),c=Object(p.a)(r,2),s=c[0],o=c[1],l=Object(n.useState)(!1),i=Object(p.a)(l,2),d=i[0],u=i[1],h=Object(n.useState)(!1),O=Object(p.a)(h,2),f=O[0],v=O[1];return Object(n.useEffect)((function(){var e=m.a.CancelToken.source(),t={header:{"Content-Type":"application/json"}};return function(){var n=Object(b.a)(j.a.mark((function n(){var r,c;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u(!0),n.prev=1,n.next=4,m.a.get("/notes",t,{cancelToken:e.token});case 4:r=n.sent,c=r.data,o(c.notes),a({type:"SET_NOTES",payload:c.notes}),a({type:"SET_USER",payload:c.user}),u(!1),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(1),m.a.isCancel(n.t0)||(u(!1),v("Some error occured"));case 15:case"end":return n.stop()}}),n,null,[[1,12]])})));return function(){return n.apply(this,arguments)}}()(),function(){e.cancel()}}),[a]),Object(x.jsx)(N.a,{style:{height:"100%"},children:d?Object(x.jsx)("div",{className:"loader",style:t?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(S.a,{size:"40px",thickness:4,color:"secondary"})}):f?Object(x.jsx)("div",{style:t?{height:"100vh",color:"#fff"}:null,children:Object(x.jsxs)(w.a,{variant:"h5",children:[f," Please refresh the page"]})}):Object(x.jsx)(C.a,{container:!0,spacing:3,children:s.map((function(e){return Object(x.jsx)(C.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(x.jsx)(F,{note:e})},e._id)}))})})}var U=a(191),B=a(96),A=a.n(B),G=function(e){var t=e.match,a=e.history,r=Object(n.useContext)(g),c=r.isDarkMode,s=r.handleDelete,o=t.params.id,l=Object(n.useState)(""),i=Object(p.a)(l,2),d=i[0],u=i[1],h=Object(n.useState)(!1),O=Object(p.a)(h,2),f=O[0],v=O[1],y=Object(n.useState)(!1),k=Object(p.a)(y,2),C=k[0],T=k[1];return Object(n.useEffect)((function(){window.navigator.vibrate(5e3);var e=!1;navigator.getBattery().then((function(t){t.addEventListener("chargingchange",(function(){e=t.charging,T(!0===e)}))}));var t=m.a.CancelToken.source();return function(){var e=Object(b.a)(j.a.mark((function e(){var a,n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,e.next=4,m.a.get("/notes/".concat(o),{cancelToken:t.token});case 4:a=e.sent,n=a.data,u(n),v(!1),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),m.a.isCancel(e.t0)||v(!1),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}()(),function(){t.cancel()}}),[o]),Object(x.jsxs)(N.a,{maxWidth:"sm",children:[f&&Object(x.jsx)("div",{className:"loader",style:c?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(S.a,{size:"40px",thickness:4,color:"secondary"})}),Object(x.jsx)(w.a,{variant:"h4",children:d.title}),Object(x.jsx)(w.a,{children:d.details}),Object(x.jsx)(U.a,{onClick:function(){s(o),a.push("/")},children:Object(x.jsx)(A.a,{style:c?{color:"#333"}:null})}),C&&Object(x.jsx)("p",{style:{color:"red"},children:"Battery is Charging"}),!C&&Object(x.jsx)("p",{style:{color:"red"},children:"Battery is not Charging"})]})},H=a(204),V=a(193),J=a(66),Y=a.n(J),q=Object(L.a)((function(e){return{field:{marginTop:20,marginBottom:20,display:"block"},root:{marginTop:20,marginBottom:20,display:"block",backgroundColor:"#333","&:hover":{backgroundColor:"#333"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#ddd"},"&:hover fieldset":{borderColor:"#ddd"},"&.Mui-focused fieldset":{borderColor:"#ddd",color:"#ddd"}}},btnText:{fontWeight:600},btn:{marginTop:20},loginH:{fontWeight:700,marginBottom:40},toolbar:e.mixins.toolbar,con:{background:"#e91e63",position:"fixed",top:0,right:0,bottom:0,display:"grid",placeItems:"center"},textLab:{color:"#ddd !important"}}}));function Q(e){var t=e.history,a=Object(n.useContext)(g),r=a.user,c=a.isDarkMode,s=q(),o=Object(n.useState)(""),l=Object(p.a)(o,2),i=l[0],d=l[1],u=Object(n.useState)(""),h=Object(p.a)(u,2),O=h[0],f=h[1],v=Object(n.useState)(""),y=Object(p.a)(v,2),k=y[0],S=y[1],C=Object(n.useState)(""),T=Object(p.a)(C,2),P=T[0],E=T[1],I=Object(n.useState)(!1),L=Object(p.a)(I,2),z=L[0],D=L[1],W=Object(n.useState)(!1),M=Object(p.a)(W,2),R=M[0],F=M[1],_=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,E(t.target.files[0].name),t.target.files[0]&&(a=!0),a)try{Y.a.imageFileResizer(t.target.files[0],300,300,"PNG",100,0,(function(e){S(e)}),"base64")}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(b.a)(j.a.mark((function e(a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),D(!1),F(!1),r||t.push("/login"),n={header:{"Content-Type":"application/json"}},""===i&&D(!0),""===O&&F(!0),!i||!O){e.next=17;break}return e.prev=8,e.next=11,m.a.post("/notes/create",{title:i,details:O,image:k},n);case 11:t.push("/"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(8),console.log(e.t0.response.data);case 17:d(""),f("");case 19:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsxs)(N.a,{style:{height:"100vh"},children:[Object(x.jsx)(w.a,{variant:"h6",component:"h2",gutterBottom:!0,style:c?{color:"#ddd"}:null,children:"Create a New Note"}),Object(x.jsx)("form",{noValidate:!0,autoComplete:"off",onSubmit:U,children:Object(x.jsxs)("div",{style:{width:"100%",display:"grid",placeItems:"center"},children:[Object(x.jsx)(H.a,{onChange:function(e){return d(e.target.value)},className:c?s.root:s.field,label:"Note Title",variant:"outlined",fullWidth:!0,required:!0,error:z,InputLabelProps:c?{className:s.textLab}:null,InputProps:c?{style:{color:"#fff"}}:null}),Object(x.jsx)(H.a,{onChange:function(e){return f(e.target.value)},className:c?s.root:s.field,label:"Details",variant:"outlined",multiline:!0,rows:4,fullWidth:!0,required:!0,error:R,InputLabelProps:c?{className:s.textLab}:null,InputProps:c?{style:{color:"#fff"}}:null}),Object(x.jsxs)("div",{className:"img-create",style:c?{background:"#333",color:"#ddd"}:null,children:[Object(x.jsxs)("label",{htmlFor:"dp",style:{placeSelf:"center"},children:[Object(x.jsx)("input",{id:"dp",type:"file",accept:"image/*",onChange:_,style:{display:"none"}}),Object(x.jsx)(V.a,{component:"span",variant:"outlined",style:c?{border:" 1px solid #ddd",color:"#ddd"}:null,children:"Select Image"})]}),P&&Object(x.jsx)("span",{style:{fontSize:"14px",marginLeft:"20px"},children:P})]}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",children:"Submit"})]})})]})}var K=a(209),X=a(192),Z=a(194),$=a(195),ee=a(196),te=a(210),ae=a(208),ne=a(97),re=a.n(ne),ce=a(98),se=a.n(ce),oe=a(99),le=a.n(oe),ie=a(30),de=a.n(ie),ue=a(31),je=a.n(ue),be=a(78),pe=a.n(be),he=a(39),Oe=Object(L.a)((function(e){return{av:{width:100,height:100,marginBottom:20},root:{backgroundColor:"rgba(0,0,0,0.8)","&:hover":{backgroundColor:"rgba(0,0,0,0.8)"},"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"#ddd"},"&:hover fieldset":{borderColor:"#ddd"},"&.Mui-focused fieldset":{borderColor:"#ddd",color:"#ddd"}}},avCon:{width:"100%",display:"grid",placeItems:"center"},liWidth:Object(he.a)({marginTop:20},e.breakpoints.up("sm"),{width:400,placeSelf:"center"}),textLab:{color:"#ddd !important"}}})),fe=function(e){var t=e.history,a=Oe(),r=Object(n.useContext)(g),c=r.user,s=r.isDarkMode,o=r.dispatch,l=Object(n.useState)(""),i=Object(p.a)(l,2),d=i[0],u=i[1],h=Object(n.useState)(""),O=Object(p.a)(h,2),f=O[0],v=O[1],y=Object(n.useState)(""),k=Object(p.a)(y,2),S=k[0],C=k[1],T=Object(n.useState)(""),P=Object(p.a)(T,2),E=P[0],I=P[1],L=Object(n.useState)(""),z=Object(p.a)(L,2),D=z[0],W=z[1],M=Object(n.useState)(null),R=Object(p.a)(M,2),F=R[0],_=R[1],U=Object(n.useState)(""),B=Object(p.a)(U,2),A=B[0],G=B[1],J=Object(n.useState)(null),q=Object(p.a)(J,2),Q=q[0],ne=q[1],ce=Object(n.useState)(null),oe=Object(p.a)(ce,2),ie=oe[0],ue=oe[1],be=Object(n.useState)(null),he=Object(p.a)(be,2),fe=he[0],me=he[1],xe=Boolean(Q),ge=Boolean(ie),ve=Boolean(fe),ye=m.a.CancelToken.source();Object(n.useEffect)((function(){c||(o({type:"SET_USER",payload:null}),t.push("/login"))}));var ke=function(){var e=Object(b.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=!1,v(t.target.files[0].name),t.target.files[0]&&(a=!0),a)try{Y.a.imageFileResizer(t.target.files[0],300,300,"PNG",100,0,(function(e){u(e)}),"base64")}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(b.a)(j.a.mark((function e(t,a){var n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n={header:{"Content-Type":"application/json"}},e.prev=2,"image"!==a||d){e.next=5;break}throw Error;case 5:if("password"!==a||E===D){e.next=10;break}return I(""),W(""),setTimeout((function(){G("")}),5e3),e.abrupt("return",G("Passwords do not match"));case 10:if("username"!==a||S){e.next=12;break}throw Error;case 12:return e.next=14,m.a.patch("/user/".concat(c._id),d?{image:d}:S?{username:S}:{password:E},n,{cancelToken:ye.token});case 14:r=e.sent,(s=r.data)&&(o({type:"SET_USER",payload:s}),_(s),setTimeout((function(){_(null)}),4e3),u(""),C(""),I(""),W(""),setTimeout((function(){ue(null),me(null),ne(null)}),4e3)),e.next=28;break;case 19:e.prev=19,e.t0=e.catch(2),console.log(e.t0.response.data.error),G(e.t0.response.data.error),setTimeout((function(){G("")}),5e3),u(""),C(""),I(""),W("");case 28:case"end":return e.stop()}}),e,null,[[2,19]])})));return function(t,a){return e.apply(this,arguments)}}(),Se=function(e,t){"image"===t&&ne(e.currentTarget),"password"===t&&me(e.currentTarget),"username"===t&&ue(e.currentTarget)},we=function(){ne(null),ue(null),me(null)};return Object(n.useEffect)((function(){return function(){ye.cancel()}})),Object(x.jsx)(N.a,{style:s?{height:"calc(100vh - 64px)"}:null,children:c&&Object(x.jsxs)("div",{style:s?{color:"#ddd",display:"grid"}:{display:"grid"},children:[Object(x.jsxs)("div",{className:a.avCon,children:[Object(x.jsx)(K.a,{src:c.image,className:a.av,children:c.image?"":c.username[0].toUpperCase()}),Object(x.jsx)(w.a,{variant:"h5",children:c.email})]}),Object(x.jsx)("div",{className:a.liWidth,children:Object(x.jsxs)(X.a,{children:[Object(x.jsxs)(Z.a,{children:[Object(x.jsx)($.a,{children:s?Object(x.jsx)(se.a,{color:"secondary"}):Object(x.jsx)(re.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Dark Mode"}),Object(x.jsx)(te.a,{onChange:function(){o({type:"TOGGLE_SWITCH"})},checked:s})]}),Object(x.jsxs)(Z.a,{button:!0,onClick:function(e){return Se(e,"image")},children:[Object(x.jsx)($.a,{children:Object(x.jsx)(le.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Add a Profile Photo"})]}),Object(x.jsx)(ae.a,{open:xe,anchorEl:Q,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(x.jsxs)("div",{className:"pofile_form_con",style:s?{background:"#333",color:"#fff"}:null,children:[Object(x.jsxs)("form",{onSubmit:function(e){return Ne(e,"image")},style:F?{display:"none"}:{display:"grid",width:"100%"},children:[Object(x.jsxs)("label",{htmlFor:"dp",style:{placeSelf:"center"},children:[Object(x.jsx)("input",{id:"dp",type:"file",accept:"image/*",onChange:ke,style:{display:"none"}}),Object(x.jsx)(V.a,{component:"span",variant:"outlined",children:"Select Image"})]}),f&&Object(x.jsx)("span",{style:{fontSize:"14px"},children:f}),Object(x.jsx)(V.a,{type:"submit",color:"secondary",variant:"contained",size:"small",style:{marginTop:"10px",placeSelf:"center"},children:"Upload"})]}),F&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("br",{}),Object(x.jsx)("h4",{children:"Image was uploaded successfully!"})]})]})}),Object(x.jsxs)(Z.a,{button:!0,onClick:function(e){return Se(e,"username")},children:[Object(x.jsx)($.a,{children:Object(x.jsx)(pe.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Change Username"})]}),Object(x.jsx)(ae.a,{open:ge,anchorEl:ie,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(x.jsxs)("div",{className:"pofile_form_con",style:s?{background:"#333",color:"#fff"}:null,children:[Object(x.jsxs)("form",{onSubmit:function(e){return Ne(e,"username")},style:F?{display:"none"}:{display:"grid",width:"100%"},children:[Object(x.jsx)(H.a,{label:"Username",className:s?a.root:null,value:S,variant:"outlined",style:{marginBottom:"16px"},fullWidth:!0,onChange:function(e){return C(e.target.value)},size:"small",InputLabelProps:s?{className:a.textLab}:null,InputProps:s?{style:{color:"#fff"}}:null}),A&&Object(x.jsx)("span",{className:"error-msg",children:A}),Object(x.jsx)(V.a,{type:"submit",color:"secondary",variant:"contained",size:"small",style:{marginTop:"10px",placeSelf:"center"},children:"change username"})]}),F&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("br",{}),Object(x.jsx)("h4",{children:"Username was changed successfully!"})]})]})}),Object(x.jsxs)(Z.a,{button:!0,onClick:function(e){return Se(e,"password")},children:[Object(x.jsx)($.a,{children:Object(x.jsx)(pe.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Change Password"})]}),Object(x.jsx)(ae.a,{open:ve,anchorEl:fe,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(x.jsxs)("div",{className:"pofile_form_con",style:s?{background:"#333",color:"#fff"}:null,children:[Object(x.jsxs)("form",{onSubmit:function(e){return Ne(e,"password")},style:F?{display:"none"}:{display:"grid",width:"100%"},children:[Object(x.jsx)(H.a,{label:"New Password",type:"password",value:E,variant:"outlined",style:{marginBottom:"16px"},fullWidth:!0,onChange:function(e){return I(e.target.value)},size:"small",InputLabelProps:s?{className:a.textLab}:null,className:s?a.root:null,InputProps:s?{style:{color:"#fff"}}:null}),Object(x.jsx)(H.a,{label:"Confirm New Password",type:"password",value:D,variant:"outlined",style:{marginBottom:"16px"},fullWidth:!0,onChange:function(e){return W(e.target.value)},size:"small",InputLabelProps:s?{className:a.textLab}:null,className:s?a.root:null,InputProps:s?{style:{color:"#fff"}}:null}),A&&Object(x.jsx)("span",{className:"error-msg",children:A}),Object(x.jsx)(V.a,{type:"submit",color:"secondary",variant:"contained",size:"small",style:{marginTop:"10px",placeSelf:"center"},children:"Change password"})]}),F&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("br",{}),Object(x.jsx)("h4",{children:"Password was changed successfully!"})]})]})})]})})]})})},me=a(201),xe=a(202),ge=a(101),ve=a.n(ge),ye=240,ke=Object(L.a)((function(e){return{page:{width:"100%",height:"100%",padding:e.spacing(3)},drawer:Object(he.a)({},e.breakpoints.up("sm"),{width:ye,flexShrink:0}),drawerPaper:{width:ye,height:"100%"},drawT:{width:ye,height:"100%",background:"#000",color:"#fff",borderRight:"1px solid rgba(221, 221, 221, 0.4)"},root:{display:"flex",height:"100%"},divider:{background:"rgba(221, 221, 221, 0.4)"},active:{background:"#f4f4f4"},darkActive:{background:"#333"},title:{fontWeight:700,flexGrow:1},appbar:Object(he.a)({backgroundColor:"#fff"},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(ye,"px)"),marginLeft:ye}),menuButton:Object(he.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,avatar:{marginLeft:e.spacing(2),background:"green"},date:Object(he.a)({},e.breakpoints.only("xs"),{display:"none"}),login:{marginRight:e.spacing(1)},yo:Object(he.a)({},e.breakpoints.down("xs"),{display:"none"})}})),Ne=a(197);function Se(e){var t=e.children,a=Object(Ne.a)({disableHysteresis:!0,threshold:0});return r.a.cloneElement(t,{elevation:a?4:0})}var we=a(200),Ce=a(206),Te=a(207),Pe=a(198),Ee=a(199),Ie=a(26),Le=a.n(Ie),ze=a(100),De=a.n(ze),We=function(e){var t=e.mobileOpen,a=e.setMobileOpen,r=e.handleDrawerToggle,c=Object(n.useContext)(g),s=c.user,o=c.isDarkMode,i=c.dispatch,d=ke(),u=Object(l.g)(),p=Object(l.h)(),h=window.matchMedia("(max-width: 600px)"),O=[{text:"My Notes",icon:Object(x.jsx)(Pe.a,{color:"secondary"}),path:"/"},{text:"Create Note",icon:Object(x.jsx)(Ee.a,{color:"secondary"}),path:"/create"}],f=function(e){u.push(e),h.matches&&a(!t)},v=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("auth/logout");case 2:u.push("/login"),i({type:"SET_USER",payload:null}),h.matches&&a(!t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=Object(x.jsxs)("div",{className:d.nav,children:[Object(x.jsx)("div",{className:d.toolbar}),Object(x.jsx)(we.a,{classes:o?{root:d.divider}:null}),Object(x.jsxs)(X.a,{children:[O.map((function(e){return Object(x.jsxs)(Z.a,{button:!0,onClick:function(){return f(e.path)},className:p.pathname!==e.path||o?p.pathname===e.path&&o?d.darkActive:null:d.active,children:[Object(x.jsx)($.a,{children:e.icon}),Object(x.jsx)(ee.a,{primary:e.text})]},e.text)})),s?Object(x.jsxs)(Z.a,{button:!0,onClick:v,children:[Object(x.jsx)($.a,{children:Object(x.jsx)(De.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Logout"})]}):Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)(Z.a,{button:!0,onClick:function(){return f("/login")},className:"/login"!==p.pathname||o?"/login"===p.pathname&&o?d.darkActive:null:d.active,children:[Object(x.jsx)($.a,{children:Object(x.jsx)(Le.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Login"})]}),h.matches&&Object(x.jsxs)(Z.a,{button:!0,onClick:function(){return f("/verification")},className:"/verification"!==p.pathname||o?"/verification"===p.pathname&&o?d.darkActive:null:d.active,children:[Object(x.jsx)($.a,{children:Object(x.jsx)(Le.a,{color:"secondary"})}),Object(x.jsx)(ee.a,{primary:"Register"})]})]})]})]});return Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("nav",{className:d.drawer,children:[Object(x.jsx)(Ce.a,{smUp:!0,implementation:"css",children:Object(x.jsx)(Te.a,{variant:"temporary",anchor:"left",open:t,onClose:r,classes:{paper:o?d.drawT:d.drawerPaper},ModalProps:{keepMounted:!0},children:y})}),Object(x.jsx)(Ce.a,{xsDown:!0,implementation:"css",children:Object(x.jsx)(Te.a,{variant:"permanent",open:!0,classes:{paper:o?d.drawT:d.drawerPaper},children:y})})]})})},Me=function(e){var t=e.children,a=Object(n.useContext)(g),r=a.user,c=a.isDarkMode,s=ke(),l=Object(n.useState)(!1),i=Object(p.a)(l,2),d=i[0],u=i[1],j=function(){u(!d)};return Object(x.jsxs)("div",{className:s.root,style:c?{background:"#000",color:"#ddd"}:null,children:[Object(x.jsx)(Se,Object(h.a)(Object(h.a)({},e),{},{children:Object(x.jsx)(me.a,{className:s.appbar,style:c?{background:"#333",color:"#fff"}:null,children:Object(x.jsxs)(xe.a,{children:[Object(x.jsx)(U.a,{color:"inherit",edge:"start",onClick:j,className:s.menuButton,children:Object(x.jsx)(ve.a,{})}),Object(x.jsx)(w.a,{variant:"h5",color:"secondary",className:s.title,noWrap:!0,children:Object(x.jsx)(o.b,{to:"/",children:"Notes"})}),r?Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(w.a,{className:s.date,children:r.username}),Object(x.jsx)(o.b,{to:"/profile",children:Object(x.jsx)(K.a,{src:r.image,className:s.avatar,children:r.image?"":r.username[0].toUpperCase()})})]}):Object(x.jsxs)("div",{className:s.yo,children:[Object(x.jsx)(o.b,{to:"/login",children:Object(x.jsx)(V.a,{color:"secondary",className:s.login,children:"Login"})}),Object(x.jsx)(o.b,{to:"/register/user",children:Object(x.jsx)(V.a,{variant:"contained",color:"secondary",children:"Register"})})]})]})})})),Object(x.jsx)(We,{mobileOpen:d,setMobileOpen:u,handleDrawerToggle:j}),Object(x.jsxs)("div",{className:s.page,children:[Object(x.jsx)("div",{className:s.toolbar}),t]})]})},Re=function(e){var t=e.history,a=Object(n.useContext)(g),r=a.isDarkMode,c=a.dispatch,s=q(),l=Object(n.useState)(""),i=Object(p.a)(l,2),d=i[0],u=i[1],h=Object(n.useState)(""),O=Object(p.a)(h,2),f=O[0],v=O[1],y=Object(n.useState)(""),k=Object(p.a)(y,2),S=k[0],C=k[1],T=function(){var e=Object(b.a)(j.a.mark((function e(a){var n,r,s;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),n={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,m.a.post("auth/login",{email:d,password:f},n);case 5:r=e.sent,s=r.data,c({type:"SET_USER",payload:s}),t.push("/"),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),C(e.t0.response.data.error),setTimeout((function(){C("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N.a,{className:s.con,style:r?{background:"#9b0b3b"}:null,children:Object(x.jsxs)("div",{className:"form-con1",children:[Object(x.jsx)("div",{className:"form-icon",style:r?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(Le.a,{color:"secondary",fontSize:"large"})}),Object(x.jsxs)("div",{className:"form-con",style:r?{background:"#333",color:"#ddd"}:{color:"#000"},children:[Object(x.jsx)(w.a,{variant:"h6",color:"secondary",className:s.loginH,children:"LOGIN TO YOUR ACCOUNT"}),Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:T,children:[Object(x.jsx)(H.a,{onChange:function(e){return u(e.target.value)},label:"Email",variant:"outlined",InputLabelProps:r?{className:s.textLab}:null,fullWidth:!0,value:d,size:"small",className:r?s.root:s.field,InputProps:r?{style:{color:"#fff"}}:null}),Object(x.jsx)(H.a,{type:"password",onChange:function(e){return v(e.target.value)},label:"Password",variant:"outlined",InputLabelProps:r?{className:s.textLab}:null,fullWidth:!0,value:f,size:"small",className:r?s.root:s.field,InputProps:r?{style:{color:"#fff"}}:null}),S&&Object(x.jsx)("span",{className:"error-msg",children:S}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",className:s.btn,children:Object(x.jsx)(w.a,{className:s.btnText,children:"LOGIN"})}),Object(x.jsx)("p",{children:Object(x.jsx)(o.b,{to:"/register/user",children:"Don't have an account? Register"})}),Object(x.jsx)("p",{children:Object(x.jsx)(o.b,{to:"/forgotpassword",children:"Forgot Password?"})})]})]})]})})})},Fe=function(){var e=Object(n.useContext)(g).isDarkMode,t=q(),a=Object(n.useState)(""),r=Object(p.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),i=l[0],d=l[1],u=Object(n.useState)(""),h=Object(p.a)(u,2),O=h[0],f=h[1],v=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,m.a.post("/auth/verification",{email:c},a);case 5:n=e.sent,r=n.data,f(r.data),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),d(e.t0.response.data.error),setTimeout((function(){d("")}),5e3);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N.a,{className:t.con,style:e?{background:"#9b0b3b"}:null,children:Object(x.jsxs)("div",{className:"form-con1",children:[Object(x.jsx)("div",{className:"form-icon",style:e?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(Le.a,{color:"secondary",fontSize:"large"})}),Object(x.jsxs)("div",{className:"form-con",style:e?{background:"#333",color:"#ddd"}:{color:"#000"},children:[Object(x.jsx)(w.a,{variant:"h6",color:"secondary",className:t.loginH,children:"REGISTER AN ACCOUNT"}),Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:v,className:O?"div-clear":"",children:[Object(x.jsx)(H.a,{onChange:function(e){return s(e.target.value)},className:e?t.root:t.field,InputProps:e?{style:{color:"#fff"}}:null,label:"Email",variant:"outlined",InputLabelProps:e?{className:t.textLab}:null,fullWidth:!0,value:c,size:"small"}),i&&Object(x.jsx)("span",{className:"error-msg",children:i}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",className:t.btn,children:Object(x.jsx)(w.a,{className:t.btnText,children:"VERIFY EMAIL"})})]}),O&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("h4",{children:"Email was sent successfully."}),Object(x.jsx)("h4",{children:"Please complete your Registration via the Link we sent to your Email address."}),Object(x.jsx)("h4",{children:"The Link will expire after 24hrs and this Email address can't be used again!"})]})]})]})})})},_e=function(e){var t=e.history,a=e.match,r=Object(n.useContext)(g),c=r.isDarkMode,s=r.dispatch,l=q(),i=Object(n.useState)(""),d=Object(p.a)(i,2),u=d[0],h=d[1],O=Object(n.useState)(""),f=Object(p.a)(O,2),v=f[0],y=f[1],k=Object(n.useState)(""),S=Object(p.a)(k,2),C=S[0],T=S[1],P=Object(n.useState)(""),E=Object(p.a)(P,2),I=E[0],L=E[1],z=Object(n.useState)(""),D=Object(p.a)(z,2),W=D[0],M=D[1],R=Object(n.useState)(null),F=Object(p.a)(R,2),_=F[0],U=F[1],B=m.a.CancelToken.source(),A=function(){var e=Object(b.a)(j.a.mark((function e(n){var r,c,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r={header:{"Content-Type":"application/json"}},C===I){e.next=7;break}return T(""),L(""),setTimeout((function(){M("")}),5e3),e.abrupt("return",M("Passwords do not match"));case 7:return e.prev=7,e.next=10,m.a.post("/auth/register/".concat(a.params.verifyToken),{username:u,email:v,password:C},r,{cancelToken:B.token});case 10:c=e.sent,o=c.data,s({type:"SET_USER",payload:o}),U(o),setTimeout((function(){t.push("/")}),5e3),e.next=22;break;case 17:e.prev=17,e.t0=e.catch(7),m.a.isCancel(e.t0)||M("Error"),M(e.t0.response.data.error),setTimeout((function(){M("")}),5e3);case 22:case"end":return e.stop()}}),e,null,[[7,17]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return function(){B.cancel()}})),Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N.a,{className:l.con,style:c?{background:"#9b0b3b"}:null,children:Object(x.jsxs)("div",{className:"form-con1",children:[Object(x.jsx)("div",{className:"form-icon",style:c?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(Le.a,{color:"secondary",fontSize:"large"})}),Object(x.jsxs)("div",{className:"form-con",style:c?{background:"#333",color:"#ddd"}:{color:"#000"},children:[Object(x.jsx)(w.a,{variant:"h6",color:"secondary",className:l.loginH,children:"REGISTER AN ACCOUNT"}),Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:A,className:_?"div-clear":"",children:[Object(x.jsx)(H.a,{onChange:function(e){return h(e.target.value)},label:"Username",variant:"outlined",InputLabelProps:c?{className:l.textLab}:null,fullWidth:!0,value:u,size:"small",className:c?l.root:l.field,InputProps:c?{style:{color:"#fff"}}:null}),Object(x.jsx)(H.a,{onChange:function(e){return y(e.target.value)},className:c?l.root:l.field,InputProps:c?{style:{color:"#fff"}}:null,label:"Email",variant:"outlined",InputLabelProps:c?{className:l.textLab}:null,fullWidth:!0,value:v,size:"small"}),Object(x.jsx)(H.a,{type:"password",onChange:function(e){return T(e.target.value)},className:c?l.root:l.field,InputProps:c?{style:{color:"#fff"}}:null,label:"Password",variant:"outlined",InputLabelProps:c?{className:l.textLab}:null,fullWidth:!0,value:C,size:"small"}),Object(x.jsx)(H.a,{type:"password",onChange:function(e){return L(e.target.value)},className:c?l.root:l.field,InputProps:c?{style:{color:"#fff"}}:null,label:"Confirm Password",variant:"outlined",InputLabelProps:c?{className:l.textLab}:null,fullWidth:!0,value:I,size:"small"}),W&&Object(x.jsx)("span",{className:"error-msg",children:W}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",className:l.btn,children:Object(x.jsx)(w.a,{className:l.btnText,children:"REGISTER"})}),Object(x.jsx)("p",{children:Object(x.jsx)(o.b,{to:"/login",children:"Already have an account? Login"})})]}),_&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("h3",{children:"Registered successfully!"}),Object(x.jsx)("h4",{children:"Please wait while we redirect you to the Home page."})]})]})]})})})},Ue=function(){var e=Object(n.useContext)(g).isDarkMode,t=q(),a=Object(n.useState)(""),r=Object(p.a)(a,2),c=r[0],s=r[1],o=Object(n.useState)(""),l=Object(p.a)(o,2),i=l[0],d=l[1],u=Object(n.useState)(""),h=Object(p.a)(u,2),O=h[0],f=h[1],v=function(){var e=Object(b.a)(j.a.mark((function e(t){var a,n,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={header:{"Content-Type":"application/json"}},e.prev=2,e.next=5,m.a.post("/auth/forgotpassword",{email:c},a);case 5:n=e.sent,r=n.data,f(r.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),d(e.t0.response.data.error),s(""),setTimeout((function(){d("")}),5e3);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N.a,{className:t.con,style:e?{background:"#9b0b3b"}:null,children:Object(x.jsxs)("div",{className:"form-con1",children:[Object(x.jsx)("div",{className:"form-icon",style:e?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(Le.a,{color:"secondary",fontSize:"large"})}),Object(x.jsxs)("div",{className:"form-con",style:e?{background:"#333",color:"#ddd"}:{color:"#000"},children:[Object(x.jsx)(w.a,{variant:"h6",color:"secondary",className:t.loginH,children:"FORGOT PASSWORD"}),Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:v,className:O?"div-clear":"",children:[Object(x.jsx)(H.a,{onChange:function(e){return s(e.target.value)},className:e?t.root:t.field,InputProps:e?{style:{color:"#fff"}}:null,label:"Email",variant:"outlined",InputLabelProps:e?{className:t.textLab}:null,fullWidth:!0,value:c,size:"small"}),i&&Object(x.jsx)("span",{className:"error-msg",children:i}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",className:t.btn,children:Object(x.jsx)(w.a,{className:t.btnText,children:"VERIFY EMAIL"})})]}),O&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("h3",{children:"Email was sent successfully!"}),Object(x.jsx)("h4",{children:"Please check your Email to reset your password."})]})]})]})})})},Be=function(e){var t=e.match,a=Object(n.useContext)(g).isDarkMode,r=q(),c=Object(n.useState)(""),s=Object(p.a)(c,2),l=s[0],i=s[1],d=Object(n.useState)(""),u=Object(p.a)(d,2),h=u[0],O=u[1],f=Object(n.useState)(""),v=Object(p.a)(f,2),y=v[0],k=v[1],S=Object(n.useState)(""),C=Object(p.a)(S,2),T=C[0],P=C[1],E=function(){var e=Object(b.a)(j.a.mark((function e(a){var n,r,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),n={header:{"Content-Type":"application/json"}},l===h){e.next=7;break}return i(""),O(""),setTimeout((function(){k("")}),5e3),e.abrupt("return",k("Passwords do not match"));case 7:if(!(l.length<6||h.length<6)){e.next=10;break}return setTimeout((function(){k("")}),5e3),e.abrupt("return",k("Password must contain at least 6 characters"));case 10:return e.prev=10,e.next=13,m.a.patch("/auth/resetpassword/".concat(t.params.resetToken),{password:l},n);case 13:r=e.sent,c=r.data,P(c.data),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(10),k(e.t0.response.data.error),setTimeout((function(){k("")}),5e3);case 22:case"end":return e.stop()}}),e,null,[[10,18]])})));return function(t){return e.apply(this,arguments)}}();return Object(x.jsx)(x.Fragment,{children:Object(x.jsx)(N.a,{className:r.con,style:a?{background:"#9b0b3b"}:null,children:Object(x.jsxs)("div",{className:"form-con1",children:[Object(x.jsx)("div",{className:"form-icon",style:a?{background:"rgba(0,0,0,0.9)"}:null,children:Object(x.jsx)(Le.a,{color:"secondary",fontSize:"large"})}),Object(x.jsxs)("div",{className:"form-con",style:a?{background:"#333",color:"#ddd"}:{color:"#000"},children:[Object(x.jsx)(w.a,{variant:"h6",color:"secondary",className:r.loginH,children:"RESET PASSWORD"}),Object(x.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:E,className:T?"div-clear":"",children:[Object(x.jsx)(H.a,{type:"password",onChange:function(e){return i(e.target.value)},className:a?r.root:r.field,InputProps:a?{style:{color:"#fff"}}:null,label:"Password",variant:"outlined",InputLabelProps:a?{className:r.textLab}:null,fullWidth:!0,value:l,size:"small"}),Object(x.jsx)(H.a,{type:"password",onChange:function(e){return O(e.target.value)},label:"Confirm Password",variant:"outlined",InputLabelProps:a?{className:r.textLab}:null,fullWidth:!0,value:h,size:"small",className:a?r.root:r.field,InputProps:a?{style:{color:"#fff"}}:null}),y&&Object(x.jsx)("span",{className:"error-msg",children:y}),Object(x.jsx)(V.a,{type:"submit",variant:"contained",color:"secondary",fullWidth:!0,size:"large",className:r.btn,children:Object(x.jsx)(w.a,{className:r.btnText,children:"RESET"})})]}),T&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(de.a,{fontSize:"large",style:{color:je.a[500]}}),Object(x.jsx)("h3",{children:"Password reset was successful!"}),Object(x.jsx)("h4",{children:"Please click the button below to login."}),Object(x.jsx)(o.b,{to:"/login",children:Object(x.jsx)(V.a,{variant:"contained",color:"secondary",children:"Login"})})]})]})]})})})},Ae=Object(i.a)({palette:{primary:{main:"#1da1f2"},secondary:{main:"#e91e63"},tet:{main:"#fff"}},typography:{fontFamily:"Quicksand",fontWeightLight:400,fontWeightRegular:500,fontWeightMedium:600,fontWeightBold:700}});var Ge=function(){var e=Object(n.useContext)(g).user;return Object(x.jsx)(d.a,{theme:Ae,children:Object(x.jsx)(o.a,{children:Object(x.jsx)(Me,{children:Object(x.jsxs)(l.d,{children:[Object(x.jsx)(l.b,{exact:!0,path:"/",render:function(){return e?Object(x.jsx)(_,{}):Object(x.jsx)(l.a,{to:"/login"})}}),Object(x.jsx)(l.b,{path:"/create",component:Q}),Object(x.jsx)(l.b,{path:"/notes/:id",component:G}),Object(x.jsx)(l.b,{path:"/profile",component:fe}),Object(x.jsx)(l.b,{path:"/login",component:Re}),Object(x.jsx)(l.b,{path:"/verification",component:Fe}),Object(x.jsx)(l.b,{path:"/register/:verifyToken",component:_e}),Object(x.jsx)(l.b,{path:"/forgotpassword",component:Ue}),Object(x.jsx)(l.b,{path:"/resetpassword/:resetToken",component:Be})]})})})})};s.a.render(Object(x.jsx)(r.a.StrictMode,{children:Object(x.jsx)(k,{children:Object(x.jsx)(Ge,{})})}),document.getElementById("root"))}},[[141,1,2]]]);
//# sourceMappingURL=main.c1b9687d.chunk.js.map